[gd_scene load_steps=14 format=3 uid="uid://k5uuocnk37nr"]

[ext_resource type="Script" path="res://entities/winds/thermals/ThermalWindAreaComponent.gd" id="2_fn4cx"]
[ext_resource type="Script" path="res://entities/winds/thermals/ProceduralThermal.gd" id="3_nenhj"]
[ext_resource type="Script" path="res://entities/winds/thermals/WindArea.gd" id="3_o84b8"]
[ext_resource type="Script" path="res://entities/winds/thermals/Thermal.gd" id="4_cht7p"]
[ext_resource type="Shader" path="res://entities/winds/thermals/thermal_particles_shader_v2.gdshader" id="5_gxknx"]
[ext_resource type="Texture2D" uid="uid://dokw3uw5qc3qb" path="res://entities/winds/assets/wind_whirl_1.png" id="6_sl11x"]
[ext_resource type="Shader" path="res://shaders/psx/psx_unlit_transparent.gdshader" id="6_y76hu"]
[ext_resource type="PackedScene" uid="uid://frfogyw6dujl" path="res://entities/clouds/cloud_1.tscn" id="7_qsxoq"]

[sub_resource type="Resource" id="Resource_qn6uk"]
script = ExtResource("4_cht7p")
height = 1000.0
radius = 75.0
strength = 7.0

[sub_resource type="CylinderShape3D" id="CylinderShape3D_uknh0"]
resource_local_to_scene = true
height = 1000.0
radius = 75.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wkk8r"]
shader = ExtResource("5_gxknx")
shader_parameter/radius = 75.0
shader_parameter/speed = 28.0
shader_parameter/height = 1000.0
shader_parameter/orbit_speed = 0.247

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4ni8f"]
render_priority = 0
shader = ExtResource("6_y76hu")
shader_parameter/modulate_color = Color(0.8, 1, 0.972549, 1)
shader_parameter/uv_scale = Vector2(1, 1)
shader_parameter/uv_offset = Vector2(0, 0)
shader_parameter/uv_pan_velocity = Vector2(0, 0)
shader_parameter/billboard = false
shader_parameter/y_billboard = true
shader_parameter/albedoTex = ExtResource("6_sl11x")

[sub_resource type="PlaneMesh" id="PlaneMesh_ayngv"]
material = SubResource("ShaderMaterial_4ni8f")
size = Vector2(1, 5)
subdivide_width = 1
orientation = 2

[node name="Thermal" type="Node3D" node_paths=PackedStringArray("cloud")]
script = ExtResource("3_nenhj")
thermal = SubResource("Resource_qn6uk")
cloud = NodePath("cloud_1")

[node name="Area3D" type="Area3D" parent="." node_paths=PackedStringArray("wind_component")]
monitorable = false
script = ExtResource("3_o84b8")
wind_component = NodePath("../ThermalWindAreaComponent")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 500, 0)
shape = SubResource("CylinderShape3D_uknh0")

[node name="ThermalWindAreaComponent" type="Node" parent="."]
script = ExtResource("2_fn4cx")
thermal = SubResource("Resource_qn6uk")

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 430, 0)
amount = 300
lifetime = 5.0
visibility_aabb = AABB(-75, -430, -75, 150, 930, 150)
process_material = SubResource("ShaderMaterial_wkk8r")
draw_pass_1 = SubResource("PlaneMesh_ayngv")

[node name="cloud_1" parent="." instance=ExtResource("7_qsxoq")]
transform = Transform3D(4.70144, 0, -1.70189, 0, 5, 0, 1.70189, 0, 4.70144, 0, 981.124, 0)
